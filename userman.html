<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.4.5" />
<title>Cloudtrack Manual</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.5em;
  margin-bottom: 2.5em;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock {
  padding-left: 2.0em;
  margin-right: 10%;
}
div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock {
  padding-left: 2.0em;
  margin-right: 10%;
}
div.verseblock > div.content {
  white-space: pre;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 2px solid silver;
}

div.exampleblock > div.content {
  border-left: 2px solid silver;
  padding: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

@media print {
  div#footer-badges { display: none; }
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock-content {
  white-space: pre;
}
div.verseblock-attribution {
  padding-top: 0.75em;
  text-align: left;
}

div.exampleblock-content {
  border-left: 2px solid silver;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
</head>
<body>
<div id="header">
<h1>Cloudtrack Manual</h1>
<span id="author">Bernd Stramm</span><br />
<span id="email"><tt>&lt;<a href="mailto:bernd.stramm@gmail.com">bernd.stramm@gmail.com</a>&gt;</tt></span><br />
<span id="revnumber">version 1.2.1,</span>
<span id="revdate">December 2009</span>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>Cloudtrack is a little distributed system that can collect and present
weather satellite images for personal use.</p></div>
<div class="paragraph"><p>This manual briefly describes what the cloudtrack programs are for, and how
they work. The manual describes the <a href="#structure">structure</a> of the system and
<a href="#usage">how to use</a> the system. Included are also remarks on how to
<a href="#further">further develop</a> these things. Some <a href="#specs">specifications</a> are
provided if you want to modify the system,
or <a href="#ownservers">target it to your own servers</a>.</p></div>
</div>
</div>
<h2 id="stucture">1. Structure</h2>
<div class="sectionbody">
<div class="paragraph"><p>The system consists of three layers:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="#sat-da">Data Aquisition Layer</a>
</p>
</li>
<li>
<p>
<a href="#sat-sl">Cloudtrack Storage Layer</a>
</p>
</li>
<li>
<p>
<a href="#sat-ui">Cloudtrack User Interface Layer</a>
</p>
</li>
</ul></div>
<h3 id="sat-da">1.1. Data Aquisition</h3><div style="clear:left"></div>
<div class="paragraph"><p>The Data Aquisition Layer is provided by the friendly people who operate
weather satellites, and make their images available to the public. The only
part involving cloudtrack is when cloudtrack downloads their images. When
implementing this part of cloudtrack, care must be taken to respect copyrights
and similar issues.</p></div>
<div class="paragraph"><p>Currently data aquisition is done by simple scripts that download images from
well known locations to fixed locations on a Storage Layer server, and then
store the images from the fixed locations into a database (MySql at this time)
on the server. Currently the server aquiring the images form the
public sources is the same server that stores the database, although this
is not strictly necessary.</p></div>
<div class="sidebarblock">
<div class="sidebar-content">
<div class="paragraph"><p><strong>Note:</strong>
An excellent source of wheater information is the
United States National Weather
Service <a href="http://nws.noaa.gov/">http://nws.noaa.gov</a> provided
by <a href="http://www.noaa.gov/">NOAA</a>. Consult your local government for
their own weather service. If they don&#8217;t make satellite images
publicly available, tell them that they should.</p></div>
</div></div>
<h3 id="sat-sl">1.2. Cloudtrack Storage Layer</h3><div style="clear:left"></div>
<div class="paragraph"><p>The Storage Layer keeps a (MySql) database containing satellite images,
indexed by a time stamp (when the image was aquired) and an image name. It
is assumed that images of the same name represent the same geographical area.
The Storage Layer provides two interfaces to the User Interface Layer:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
the http Web Interface, and
</p>
</li>
<li>
<p>
the mysqld Interface
</p>
</li>
</ol></div>
<div class="paragraph"><p>The mysqld interface is the same as any mysqld interface, nothing new is added
on the database side.</p></div>
<div class="sidebarblock">
<div class="sidebar-content">
<div class="paragraph"><p><strong>Note:</strong>
The web and SQL interface are the ones from Qt4. This has changed from previous
versions of Cloudtrack and from Satview. While I have only tested the
SQL/MySql interface on Linux, it should work on other platforms as well.</p></div>
</div></div>
<div class="paragraph"><p>The Web Interface works with a simple HTTP GET API, which encasulates the
mysqld interface locally on the server. Currently the Web Interface runs
in PHP/Apache on the same server as the mysql database. This is not strictly
speaking necessary (the Web Interface code opens a database connection on
"localhost", it could open a connection anywhere).</p></div>
<h3 id="sat-ui">1.3. Cloudtrack User Interface</h3><div style="clear:left"></div>
<div class="paragraph"><p>The User Interface program loads images from the database server on the
Cloudtrack Storage Layer, and displays them in a simple GUI. The Gui allows
stepping through images, or running through a number of sequeltial
images to view short animations. The controls operate much like
tape player controls. The Gui allows the user to change database servers
and change image names, so that different geographical areas can be
observed. The Gui also allows switching the interface to the Storage Layer
between web (HTTP) and direct (mysql) interfaces.</p></div>
<div class="paragraph"><p>The User Interface Layer Gui provides an in-memory cache at the user&#8217;s
side of the system.</p></div>
<div class="paragraph"><p>The User Interface Layer also provides a command line program to copy image
data between different Storage Layer servers. This is useful for the (typical)
case where a user perfers to view data from a local server, but the local
server does not do aquisition 24 hours a day.</p></div>
</div>
<h2 id="usage">2. How to Use Cloudtrack</h2>
<div class="sectionbody">
<div class="paragraph"><p>The only thing an end-user really has to know is the viewer Gui. This is called
from the command line:</p></div>
<div class="listingblock">
<div class="title">Calling the GUI in Linux</div>
<div class="content"><!-- Generator: GNU source-highlight 2.10
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ cloudtrack --help
  -h <span style="color: #990000">[</span> --help <span style="color: #990000">]</span>          give <span style="font-weight: bold"><span style="color: #0000FF">help</span></span> message and <span style="font-weight: bold"><span style="color: #0000FF">exit</span></span>
  -v <span style="color: #990000">[</span> --version <span style="color: #990000">]</span>       give version and <span style="font-weight: bold"><span style="color: #0000FF">exit</span></span>
  -w <span style="color: #990000">[</span> --web <span style="color: #990000">]</span>           use web interface
  -d <span style="color: #990000">[</span> --dir <span style="color: #990000">]</span>           user direct sql interface
  -E <span style="color: #990000">[</span> --eastcoast <span style="color: #990000">]</span>     show GOES ECIR<span style="color: #990000">.</span>JPG images
  -W <span style="color: #990000">[</span> --westcoast <span style="color: #990000">]</span>     show GOES WCIR<span style="color: #990000">.</span>JPG images
  -s <span style="color: #990000">[</span> --server <span style="color: #990000">]</span> arg    input server
  -P <span style="color: #990000">[</span> --path <span style="color: #990000">]</span> arg      path on web server
  -o <span style="color: #990000">[</span> --outserver <span style="color: #990000">]</span> arg output server
  -m <span style="color: #990000">[</span> --minhours <span style="color: #990000">]</span> arg  minimum image age to consider
  -M <span style="color: #990000">[</span> --maxhours <span style="color: #990000">]</span> arg  maximum image age to consider
  -i <span style="color: #990000">[</span> --image <span style="color: #990000">]</span> arg     image name
</tt></pre></div></div>
<div class="paragraph"><p>where these options do more or less what you would expect.</p></div>
<div class="paragraph"><p>The server defaults to "localhost", and the interface defaults to "--web".
Default maximum age is "--maxhours 720", which gives you 30 days from the
present. So the following are equivalent:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 2.10
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ cloudtrack --web --server localhost -M <span style="color: #993399">720</span>
is the same as
$ cloudtrack</tt></pre></div></div>
<div class="paragraph"><p>At the point of this writing, I am not aware of any servers except mine,
so you can try</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 2.10
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ cloudtrack --web --server www<span style="color: #990000">.</span>bernd-stramm<span style="color: #990000">.</span>com</tt></pre></div></div>
<div class="paragraph"><p>but be aware that this server is slow. You could wait 30 seconds for the first
image to show up.</p></div>
<div class="paragraph"><p>Of course it is much better if you have your own server, particularly
if you are interested in images other than ECIR.JPG and WCIR.JPG, which
only cover the US and surrounding areas. If you live in Europe that doesn&#8217;t
do you much good. Unless you are in Iceland, where you will get the cloud
systems just after they leave Newfoundland.</p></div>
<div class="paragraph"><p>The user interface allows changing the host and the interface after the program
is running. Changing either one means that all currently cached images
are discarded, and a new index is loaded.</p></div>
<div class="paragraph"><p>The controls look like a window with some buttons and a little text:</p></div>
<div class="imageblock">
<div class="content">
<img src="controlwin.jpg" alt="controlwin.jpg" />
</div>
</div>
<div class="paragraph"><p>where the buttons do more or less what the labeling says they do.
The images look like weather satellite images and are displayed in a separate
window:</p></div>
<div class="imageblock">
<div class="content">
<img src="imagewin.jpg" alt="imagewin.jpg" />
</div>
</div>
</div>
<h2 id="ownservers">3. Using Your Own Servers</h2>
<div class="sectionbody">
<div class="paragraph"><p>Using your own servers is highly recommended, since I am not interested
in financially supporting everyone&#8217;s desire to watch weather satellite pictures.</p></div>
<div class="paragraph"><p>Using your own database server is also very simple. You need one single table for
this. The table can be in a database by itself, which can simplify managing
access privileges. See the <a href="#database-defs">Database Definitions</a> to define your own.
Note that these are the minimum requirements, if your table contains more
it doesn&#8217;t hurt. Just be aware that <strong>storeID.php</strong> will only supply
the fields defined for Cloudtrack.</p></div>
<div class="paragraph"><p>One resonable way of doing this is to use a remote host that grabs the
images every few hours using <strong>cron</strong> to run <strong>getit.sh</strong> and <strong>storeinDB.php</strong>,
and using <strong>copydb</strong> to refresh a local database.</p></div>
</div>
<h2 id="further">4. Future Development</h2>
<div class="sectionbody">
<div class="paragraph"><p>Of course there is no reason that only weather images are the subject.
Basically anything that has is a natural sequence, and that can
be captured as images, makes sense to use.</p></div>
<div class="paragraph"><p>Currently the main cloudtrack program is just a viewer - it doesn&#8217;t store
anything, or process any images. Some ambitious person could add more
functionality. Storing selected images or sequences perhaps, with markup
of images.</p></div>
</div>
<h2 id="specs">5. Specifications</h2>
<div class="sectionbody">
<div class="paragraph"><p>This section gives some implementation details. We have the individual
pieces of code that make up the system:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Aquisition
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
getit.sh
</p>
</li>
</ol></div>
</li>
<li>
<p>
Storage
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
storeIR.php
</p>
</li>
<li>
<p>
satserv.php
</p>
</li>
</ol></div>
</li>
<li>
<p>
User Interface
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
cloudtrack
</p>
</li>
<li>
<p>
copydb
</p>
</li>
</ol></div>
</li>
</ol></div>
<h3 id="_user_interface">5.1. User Interface</h3><div style="clear:left"></div>
<div class="paragraph"><p>To change the user interface defaults, change the file <strong>satview-defaults.h</strong>:</p></div>
<div class="listingblock">
<a id="ui-default-source"></a>
<div class="title">satview-defaults.h</div>
<div class="content"><!-- Generator: GNU source-highlight 2.10
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#define</span></span> SATVIEW_DEFAULT_PICNAME     <span style="color: #FF0000">"ECIR.JPG"</span>

<span style="font-weight: bold"><span style="color: #000080">#define</span></span> SATVIEW_DEFAULT_S0          <span style="color: #FF0000">"localhost"</span>

<span style="font-weight: bold"><span style="color: #000080">#define</span></span> SATVIEW_DEFAULT_PATH         <span style="color: #FF0000">"/test/satserv.php"</span>
</tt></pre></div></div>
<h4 id="_copydb">5.1.1. copydb</h4>
<div class="paragraph"><p>The <strong>copydb</strong> utility allows you to copy images between databases. It is command
command line only at this point, and I don&#8217;t have any plans to make a GUI. The
usage is very simple:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 2.10
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ copydb<span style="color: #990000">:</span>
  -h <span style="color: #990000">[</span> --help <span style="color: #990000">]</span>          give <span style="font-weight: bold"><span style="color: #0000FF">help</span></span> message and <span style="font-weight: bold"><span style="color: #0000FF">exit</span></span>
  -v <span style="color: #990000">[</span> --version <span style="color: #990000">]</span>       give version and <span style="font-weight: bold"><span style="color: #0000FF">exit</span></span>
  -w <span style="color: #990000">[</span> --web <span style="color: #990000">]</span>           use web interface
  -d <span style="color: #990000">[</span> --dir <span style="color: #990000">]</span>           user direct sql interface
  -E <span style="color: #990000">[</span> --eastcoast <span style="color: #990000">]</span>     show GOES ECIR<span style="color: #990000">.</span>JPG images
  -W <span style="color: #990000">[</span> --westcoast <span style="color: #990000">]</span>     show GOES WCIR<span style="color: #990000">.</span>JPG images
  -s <span style="color: #990000">[</span> --server <span style="color: #990000">]</span> arg    input server
  -P <span style="color: #990000">[</span> --path <span style="color: #990000">]</span> arg      path on web server
  -o <span style="color: #990000">[</span> --outserver <span style="color: #990000">]</span> arg output server
  -m <span style="color: #990000">[</span> --minhours <span style="color: #990000">]</span> arg  minimum image age to consider
  -M <span style="color: #990000">[</span> --maxhours <span style="color: #990000">]</span> arg  maximum image age to consider
  -i <span style="color: #990000">[</span> --image <span style="color: #990000">]</span> arg     image name</tt></pre></div></div>
<div class="paragraph"><p>You may notice that this is the same as for the viewer. A typical usage
after a long weekend could be:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 2.10
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ copydb --web --server www<span style="color: #990000">.</span>yourownbigserver<span style="color: #990000">.</span>com -o localhost -m <span style="color: #993399">0</span> -M <span style="color: #993399">72</span></tt></pre></div></div>
<div class="paragraph"><p>to copy three day&#8217;s worth of images from yourownbigserver to your local
machine. Then you have fast access to the images locally.</p></div>
<div class="paragraph"><p>Note that <strong>copydb</strong> will do third-party copies, meaning that you can
copy from server A to server B, running copydb on machine C. Note also that
the interface for the outgoing server is assumed to be direct. This is
because the web interface is read-only.</p></div>
<h3 id="_database">5.2. Database</h3><div style="clear:left"></div>
<div class="paragraph"><p>The database table containing the images has 5 fields. The two fields
named <strong>index</strong> and <strong>picname</strong> combined are required to be unique,
and can be made an index.</p></div>
<div class="sidebarblock" id="database-defs">
<div class="sidebar-content">
<div class="sidebar-title">Database Field Definitions</div>
<p>
<table border="1">
<tr >
<th>Field </th>
<th>Type</th>
<th>Collation </th>
<th> Attributes </th>
<th> Null </th>
<th>Default  </th>
</tr>

<tr>
<td><i>
ident  </i></td>
<td>bigint(20) </td>
<td> </td>
<td> </td>
<td>No</td>
<td>None</td>
</tr>

<tr>
<td><i>picname</i></td>
<td>varchar(255)</td>
<td>latin1_swedish_ci</td>
<td> </td>
<td>No</td>
<td> None </td>
</tr>

<tr>
<td><i>storetime</i></td>
<td>timestamp</td>
<td> </td>
<td> </td>
<td>No </td>
<td>CURRENT_TIMESTAMP   </td>
</tr>

<tr>
<td><i>remark</i></td>
<td>text</td>
<td>    latin1_swedish_ci</td>
<td> </td>
<td>No</td>
<td>None </td>
</tr>

<tr>
<td><i>image</i></td>
<td>longblob</td>
<td> </td>
<td>    BINARY</td>
<td>No</td>
<td>None </td>
</td>
</table>
</div></div>
<h3 id="_web_interface">5.3. Web Interface</h3><div style="clear:left"></div>
<div class="paragraph"><p>Look in <strong>satserv.php</strong>. Basically you can ask for the index of
available images with a get</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 2.10
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>GET <span style="color: #990000">...</span>/satserve<span style="color: #990000">.</span>php<span style="color: #990000">?</span><span style="color: #009900">fn</span><span style="color: #990000">=</span>index<span style="color: #990000">&amp;</span><span style="color: #009900">min</span><span style="color: #990000">=&lt;</span>timestamp<span style="color: #990000">&gt;&amp;</span><span style="color: #009900">max</span><span style="color: #990000">=&lt;</span>timestamp<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>where the timestamps are Unix epoch seconds. Well, they are for
the currently present databases. For your own database, the can
be anything you want.</p></div>
<div class="paragraph"><p>and for individual images</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 2.10
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>GET <span style="color: #990000">...</span>/satserve<span style="color: #990000">.</span>php<span style="color: #990000">?</span><span style="color: #009900">fn</span><span style="color: #990000">=</span>item<span style="color: #990000">&amp;</span><span style="color: #009900">k1</span><span style="color: #990000">=&lt;</span>ident<span style="color: #990000">&gt;&amp;</span><span style="color: #009900">k2</span><span style="color: #990000">=&lt;</span>picname<span style="color: #990000">&gt;</span></tt></pre></div></div>
<div class="paragraph"><p>where ident and picname are encoded as ASCII/hex, e.g. <em>123</em> is <em>313233</em>.
All the encoding is done like that, to avoid issues like spaces inside
strings. I could have bothered with the traditional complicated escape
characters for every possible exception, but why?</p></div>
<div class="paragraph"><p>At the time of this writing, my personal web
server provides data on the web interface. It is not wise to
count on it being there.</p></div>
<h3 id="_prerequisits">5.4. Prerequisits</h3><div style="clear:left"></div>
<div class="paragraph"><p>To build and run the parts of Cloudtrack, the current version uses:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
On the user interface
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
C+\+
</p>
<div class="olist lowerroman"><ol class="lowerroman">
<li>
<p>
Gcc or Visual C+\+
</p>
</li>
</ol></div>
</li>
<li>
<p>
Qt4, including these parts:
</p>
<div class="olist lowerroman"><ol class="lowerroman">
<li>
<p>
Core
</p>
</li>
<li>
<p>
Gui
</p>
</li>
<li>
<p>
Network
</p>
</li>
<li>
<p>
Sql
</p>
</li>
</ol></div>
</li>
</ol></div>
</li>
<li>
<p>
On the server you need
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
PHP5 on the server
</p>
</li>
<li>
<p>
Apache or something else that serves PHP over HTTP
</p>
</li>
<li>
<p>
wget on the server
</p>
</li>
<li>
<p>
cron
</p>
</li>
</ol></div>
</li>
</ol></div>
<div class="sidebarblock">
<div class="sidebar-content">
<div class="paragraph"><p><strong>Memory:</strong> The Cloudtrack user interface viewer
buffers the jpeg version of all images that have been viewed
in the current session, plus <strong>one</strong> decompressed image. It does not
save anything between sessions.</p></div>
</div></div>
<h4 id="_how_to_build">5.4.1. How to Build</h4>
<div class="paragraph"><p>Read the INSTALL file. It&#8217;s easy.</p></div>
<h4 id="_conditionally_compiled_sections">5.4.2. Conditionally Compiled Sections</h4>
<div class="paragraph"><p>The code contains some sections that are compiled only when certain
flags are set. This in controlled in the file <strong>satview-config.h</strong>.
For historical reasons, there are multiple network and SQL interfaces.
You can turn them on and off in this file.</p></div>
<div class="paragraph"><p>Note that only the ones turned on in the shipping archive are currently tested.</p></div>
<h4 id="_can_i_run_something_like_this_in_my_browser">5.4.3. Can I Run Something Like This in My Browser</h4>
<div class="paragraph"><p>Why would you want to?</p></div>
</div>
<h2 id="_license_and_warranty">6. License and Warranty</h2>
<div class="sectionbody">
<div class="paragraph"><p>This is free open source software, hence the usual licensing. And the
usual warranty, or lack thereof:</p></div>
<div class="sidebarblock">
<div class="sidebar-content">
<div class="paragraph"><p>These programs are distributed under the terms of the
GNU General Public License version 3.</p></div>
<div class="paragraph"><p>See the file <strong>COPYING</strong> for the complete text of the license. You can
also find it on <a href="http://www.gnu.org">http://www.gnu.org</a>.</p></div>
<div class="paragraph"><p>This software is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p></div>
</div></div>
<div class="quoteblock">
<div class="quoteblock-content">
<div class="paragraph"><p><sub>Copyright &#169; 2009 <a href="http://www.bernd-stramm.com/">Bernd Stramm</a> All Rights Reserved</sub></p></div>
</div>
<div class="quoteblock-attribution">
</div></div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.2.1<br />
Last updated 2009-12-20 22:13:03 EDT
</div>
</div>
</body>
</html>
